(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{"0af8":function(e,t,n){"use strict";n.r(t),n.d(t,"roundToNearestDevicePixel",(function(){return w})),n.d(t,"default",(function(){return T}));var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),d=n("q1tI"),l=n("n+l9"),u=n("i8i4"),f=n.n(u),p=n("Yib4"),h=n("17x9"),m=n("5Tbd"),v=n.n(m),_=n("A559"),y=n.n(_),b=n("lPEy"),g=n.n(b),O=n("Epja"),E=n.n(O),w=function(e){var t=e.cssPixels,n=e.dpr;return Math.round(t*n)/n},T=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,c()(o()(i),"_setContentRef",(function(e){i._contentRef=f.a.findDOMNode(e)})),c()(o()(i),"_setContainerRef",(function(e){i._containerRef=f.a.findDOMNode(e)})),c()(o()(i),"_handleProgrammaticScroll",(function(e){i._prevScrollY=(i._prevScrollY||0)+e,i.setState({contentOffset:Math.max(0,i.state.contentOffset+e)})})),c()(o()(i),"_handleLayout",(function(e){var t=e.nativeEvent.layout.height>i.state.contentHeight;i._updatePositioning(t)})),i.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:l.b()?"sticky":"static"},i._scheduleUpdatePositioning=v()(i._updatePositioning.bind(o()(i)),window.requestAnimationFrame),i}a()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.context.viewport;this._removeProgrammaticScrollListener=e.addProgrammaticScrollListener(this._handleProgrammaticScroll)},n.componentDidMount=function(){var e=this.context.viewport;this._updatePositioning(),this._removeScrollListener=e.addScrollListener(this._scheduleUpdatePositioning);var t=this._containerRef.getBoundingClientRect(),n=e.scrollY();this._prevScrollY=n,this.setState({stickyOffset:n+t.top})},n.componentWillUnmount=function(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()},n.render=function(){var e=this.state,t=e.stickyTop,n=e.stickyThreshold,i=e.contentOffset,o=e.position,r=R[o],a=window.devicePixelRatio||1,s=w({cssPixels:n,dpr:a}),c=w({cssPixels:i,dpr:a}),l={top:t?s+"px":null,bottom:t?null:s+"px"};return d.createElement(E.a,{ref:this._setContainerRef,style:[R.container,{minHeight:this.state.contentHeight}]},d.createElement(E.a,{style:{marginTop:c+"px"}}),d.createElement(E.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,l,r]},this.props.children))},n._updatePositioning=function(e){if(void 0===e&&(e=!1),this._contentRef&&this._containerRef){var t=this.context.viewport.scrollY(),n=t-this._prevScrollY;if(!(Math.abs(n)<.5)||e){var i=this.props.distanceFromBottom;this._prevScrollY=t;var o=this._contentRef.getBoundingClientRect(),r=this._containerRef.getBoundingClientRect(),a=g.a.get("window").height,s=t+r.top,c=Math.max(o.top-r.top,0);if(a-o.height>s&&!Object(p.a)())this._updateState({stickyTop:!0,stickyThreshold:s,contentOffset:0,stickyOffset:s,contentHeight:o.height,position:"fixed"});else{var d=n>0,u=d!==this.state.stickyTop,f=window.devicePixelRatio||1,h=o.bottom-a+i<=1/f,m=s-o.top<=1/f;if((d&&h||!d&&m)&&l.a()){var v=i,_=s;this._updateState({position:"fixed",stickyOffset:s,stickyTop:m,stickyThreshold:m?_:v,contentOffset:c,contentHeight:o.height})}else{var y=a-o.height-i,b=a-o.height-s,O=l.b()?"sticky":"static";this._updateState({position:O,stickyTop:d,stickyOffset:s,stickyThreshold:d?y:b,contentOffset:u?c:this.state.contentOffset,contentHeight:o.height})}}}}},n._updateState=function(e){var t=this.state.stickyTop!==e.stickyTop,n=this.state.stickyThreshold!==e.stickyThreshold,i=Math.abs(this.state.contentOffset-e.contentOffset)>.5,o=Math.abs(this.state.stickyOffset-e.stickyOffset)>.5,r=this.state.position!==e.position,a=this.state.contentHeight!==e.contentHeight;(t||n||i||o||r||a)&&this.setState(e)},t}(d.PureComponent);c()(T,"contextTypes",{viewport:h.object.isRequired}),c()(T,"defaultProps",{distanceFromBottom:10});var R=y.a.create((function(e){return{container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}}}))},LHcr:function(e,t,n){"use strict";n.r(t);n("91GP");var i=n("PJYZ"),o=n.n(i),r=n("VbXa"),a=n.n(r),s=n("lSNA"),c=n.n(s),d=n("q1tI"),l=n("7JQg"),u=n("kGix"),f=n("v//M"),p=n("YryT"),h=n.n(p),m=n("Rp9C"),v=n("A559"),_=n.n(v),y=n("Epja"),b=n.n(y),g=(n("17x9"),n("zh9S")),O=n("lP98"),E=n("RqPI"),w=n("oEGd"),T=n("0KEI"),R=n("peh1"),I=n("G6rE"),S=function(e,t){return E.h(e)},L=function(e,t){return t.userId},x=Object(R.createSelector)((function(e,t){var n=L(0,t),i=S(e);return O.b(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),S,(function(e,t){var n=L(0,t),i=S(e);return O.c(e,{displayLocation:"profile_accounts_sidebar",similarToUserId:n===i?void 0:n})}),(function(e,t){var n=I.e.select(e,t.userId);return n&&n.screen_name}),(function(e,t,n,i){return{fetchStatus:e,loggedInUserId:t,recommendations:n,screenName:i}})),P={createLocalApiErrorHandler:Object(T.b)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:O.a,scribeAction:g.c},N=Object(w.f)(x,P),k=n("NxHW"),H=n("Re5t"),U=n("hqDb"),j=n("hxu0"),C=n("xbwS"),D=n.n(C),A=n("Sp5u"),M=n.n(A),F=h.a.da31f17e,q=h.a.d5ee4403,W=h.a.e05b3b2d,B=3,Y=Object(l.d)({component:"who_to_follow"})(Object(j.a)((function(e){var t=e.withProfileHeaderText,n=e.screenName,i=e.userIds,o=e.isInSidebar,r=i.length>B,a="/"+n+"/who_to_follow";return d.createElement(b.a,{accessibilityLabel:F,accessibilityRole:"complementary"},d.createElement(M.a,{text:t?q:F}),d.createElement(U.a,{displayMode:H.a.UserCompact,userIds:i.slice(0,B),withItemBorder:!0}),r&&d.createElement(D.a,{interactiveStyles:o?Object(k.a)():void 0,link:a,text:W}))})));n.d(t,"WhoToFollowContainer",(function(){return K}));var G=h.a.f80c522b,z={component:"suggest_who_to_follow",element:"user",action:"results"},K=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,c()(o()(t),"_renderContent",(function(){var e=t.props,n=e.recommendations,i=e.screenName,o=e.userId,r=e.withProfileHeaderText,a=n&&n.map((function(e){return e.user}));return i?d.createElement(Y,{screenName:i,userId:o,userIds:a,withProfileHeaderText:r}):null})),c()(o()(t),"_handleImpression",(function(e){var n=t.props,i=n.scribeAction,o=n.scribeNamespace;i(Object.assign({},o,{},z),{items:e&&e.slice(0,B).map((function(e){return Object.assign({},m.a.forUser(e.user),{suggestion_details:{source_data:e.token}})}))})})),t}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.recommendations;this._fetchRecommendations(this.props),e&&e.length>0&&this._handleImpression(e)},n.componentDidUpdate=function(e){var t=this.props.recommendations;this.props.userId!==e.userId&&this._fetchRecommendations(this.props),t!==e.recommendations&&t&&t.length>0&&this._handleImpression(t)},n.render=function(){var e=this.props,t=e.fetchStatus,n=e.style;return t===u.a.FAILED||this._hasEmptySuggestionList()?null:d.createElement(b.a,{style:[V.root,n]},d.createElement(f.a,{accessibilityLabel:G,fetchStatus:t,render:this._renderContent}))},n._fetchRecommendations=function(e){var t=e.createLocalApiErrorHandler,n=e.fetchRecommendationsIfNeeded,i=e.userId;n({limit:4,displayLocation:"profile_accounts_sidebar",similarToUserId:i!==e.loggedInUserId?i:void 0}).catch(t({}))},n._hasEmptySuggestionList=function(){var e=this.props,t=e.fetchStatus,n=e.recommendations;return t===u.a.LOADED&&0===n.length},t}(d.PureComponent),V=_.a.create((function(e){return{root:{minHeight:"15rem"}}}));t.default=Object(l.d)()(N(K))},lP98:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return b}));n("VRzm"),n("Btvt"),n("91GP");var i,o=n("/kEJ"),r=n("oEOe"),a=n("t33a"),s=n.n(a),c=n("kGix"),d=n("Ssj5"),l="rweb/recommendations/FETCH_REQUEST",u="rweb/recommendations/FETCH_SUCCESS",f="rweb/recommendations/FETCH_FAILURE",p={},h=function(e){var t=e.displayLocation,n=e.similarToUserId;return t+(n?"_"+n:"")};d.a.register(((i={}).recommendations=function(e,t){if(void 0===e&&(e=p),!t.meta)return e;switch(t.type){case l:var n,i=h(t.meta);return Object.assign({},e,((n={})[i]=Object.assign({},e[i],{fetchStatus:c.a.LOADING}),n));case f:var o,r=h(t.meta);return Object.assign({},e,((o={})[r]=Object.assign({},e[r],{fetchStatus:c.a.FAILED}),o));case u:var a,d=h(t.meta),m=t.payload&&t.payload.entities?t.payload.entities:{recommendations:s.a},_=(t.payload&&t.payload.result?t.payload.result:v).map((function(e){return m.recommendations[e]}));return Object.assign({},e,((a={})[d]=Object.assign({},e[d],{fetchStatus:c.a.LOADED,recommendations:_}),a));default:return e}},i));var m=[],v=[],_=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[h({displayLocation:n,similarToUserId:i})];return o&&o.recommendations?o.recommendations:m},y=function(e,t){var n=t.displayLocation,i=t.similarToUserId,o=e.recommendations[h({displayLocation:n,similarToUserId:i})];return o?o.fetchStatus:c.a.NONE},b=function(e){return function(t,n,i){var a=n(),d=e.displayLocation,p=e.similarToUserId,h=_(a,{displayLocation:d,similarToUserId:p}),m=y(a,{displayLocation:d,similarToUserId:p})===c.a.LOADED;return h&&m?Promise.resolve(s.a):t(function(e){return function(t,n,i){var a=i.api,s=e.displayLocation,c=e.itsInterests,d=e.limit,p=void 0===d?30:d,h=e.similarToUserId;return Object(r.b)(t,{params:{display_location:s,itsInterests:c,limit:p,user_id:h},request:a.Recommendations.fetch})({actionTypes:{REQUEST:l,SUCCESS:u,FAILURE:f},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:s,similarToUserId:h}},(function(e){if(e)return[Object(o.c)(e.entities)]}))}}(e))}}},sAnO:function(e,t,n){"use strict";n.r(t);var i=n("uTKs"),o=n.n(i);t.default=o.a},uTKs:function(e,t,n){"use strict";var i=n("TqRt");t.__esModule=!0,t.default=void 0;var o=i(n("pVnL"));n("hEkN"),n("DW2E");var r=i(n("VbXa")),a=i(n("PJYZ")),s=i(n("lSNA"));n("91GP");var c=i(n("q1tI")),d=i(n("qGHt")),l=i(n("5Tbd")),u=n("OPGD"),f=i(n("W6Jm")),p=i(n("MqnQ")),h=i(n("OFfW")),m=i(n("rj4Q")),v=i(n("i8i4")),_=i(n("V82V")),y=i(n("A559")),b=i(n("lPEy")),g=i(n("AzFT")),O=i(n("Epja")),E=y.default.create((function(e){return{rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:"calc("+e.spaces.jumbo+" * 5)"},anchor:y.default.absoluteFillObject,mask:Object.assign({},y.default.absoluteFillObject,{position:"fixed"}),bodyRectHelper:Object.assign({},y.default.absoluteFillObject,{bottom:void 0}),content:{borderRadius:e.borderRadii.medium,position:"absolute",overflow:"hidden",backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}}})),w=function(e){var t=e.verticalPreference,n=e.canOrientUp,i=e.canOrientDown;return n&&i||!n&&!i?t:n?"up":"down"},T=function(e){var t=e.horizontalPreference,n=e.canOrientLeft,i=e.canOrientRight;return!n||"left"!==t&&i?"right":"left"},R=function(e){return g.default.isRTL?"left"===e?"right":"left":e},I=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,(0,s.default)((0,a.default)((0,a.default)(i)),"_handleAnimateComplete",(function(){var e=i.props.onAnimateComplete;e&&e()})),(0,s.default)((0,a.default)((0,a.default)(i)),"_handleEsc",(function(e){var t=i.props.onDismiss,n=e.altKey,o=e.ctrlKey,r=e.metaKey,a=e.key;!(n||o||r)&&"Escape"===a&&t()})),(0,s.default)((0,a.default)((0,a.default)(i)),"_receiveBodyRectHelperRef",(function(e){var t=v.default.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._bodyRectHelperNode=t),i._scheduleUpdate()})),(0,s.default)((0,a.default)((0,a.default)(i)),"_receiveAnchorRef",(function(e){var t=v.default.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._anchorNode=t),i._scheduleUpdate()})),(0,s.default)((0,a.default)((0,a.default)(i)),"_receiveContentRef",(function(e){var t=v.default.findDOMNode(e);t&&t instanceof window.HTMLElement&&(i._contentNode=t),i._scheduleUpdate()})),(0,s.default)((0,a.default)((0,a.default)(i)),"_updatePosition",(function(){if(i._mounted&&(i._anchorNode||i.props.position)&&i._contentNode&&i._contentNode instanceof window.HTMLElement&&i._bodyRectHelperNode&&i._bodyRectHelperNode instanceof window.HTMLElement){var e=i._contentNode.scrollHeight,t=i._contentNode.scrollWidth,n=i._bodyRectHelperNode.getBoundingClientRect(),o=n.left,r=n.top,a=n.width,s=b.default.get("window"),c=s.width,d=s.height,l={left:0,top:0,height:0,width:0};i.props.position?l=Object.assign({},l,i.props.position):i._anchorNode&&i._anchorNode instanceof window.HTMLElement&&(l=i._anchorNode.getBoundingClientRect());var u=l,f=u.left,p=u.top,h=u.height,m=u.width,v=c-a,_=f-o,y=p-r,g=f+m>=t,O=p+h>=e,E=c-f>=t,I=d-p>=e,S=i.props.preferredVerticalOrientation,L=R(i.props.preferredHorizontalOrientation),x=i.state.verticalOrientation||w({verticalPreference:S,canOrientUp:O,canOrientDown:I}),P=i.state.horizontalOrientation||T({horizontalPreference:L,canOrientLeft:g,canOrientRight:E}),N=i.props.isFixed?f:_,k=i.props.isFixed?p:y,H="up"===x?k+h-e:k,U="left"===P?c-N-m-v:c-N-t-v;i.setState({top:Math.max(H,0),right:U,verticalOrientation:x,horizontalOrientation:P})}})),i.state=Object.freeze({}),i._scheduleUpdate=(0,l.default)(i._updatePosition,window.requestAnimationFrame),i._scheduleDebouncedUpdate=(0,u.debounce)(i._scheduleUpdate,250),i}(0,r.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mounted=!0,b.default.addEventListener("change",this._scheduleDebouncedUpdate)},n.componentWillUnmount=function(){this._mounted=!1,b.default.removeEventListener("change",this._scheduleDebouncedUpdate)},n.render=function(){var e=this,t=this.props,n=t.children,i=t.isFixed,r=t.onDismiss,a=t.animateInDuration,s=t.animateType,l=t.withKeyboardNavigation,u=this.state,v=u.top,b=u.right,w=u.verticalOrientation,T=void 0===v,R="calc(100vh - "+(v||0)+"px)",I=[E.content,T&&E.contentInitialRender,i&&[E.contentFixed,{maxHeight:R}],{top:v,right:g.default.isRTL?void 0:b,left:g.default.isRTL?b:void 0}];return c.default.createElement(O.default,{ref:this._receiveAnchorRef,style:E.anchor},c.default.createElement(m.default.Dropdown,null,c.default.createElement(p.default,{onDismiss:r},c.default.createElement(f.default,{withKeyboardNavigation:l},c.default.createElement(O.default,{onClick:r,style:E.mask}),c.default.createElement(O.default,{ref:this._receiveBodyRectHelperRef,style:E.bodyRectHelper}),c.default.createElement(_.default,null,(function(t){var i=t.windowWidth;return c.default.createElement(O.default,{accessibilityRole:"menu",onKeyUp:e._handleEsc,ref:e._receiveContentRef,style:[i<y.default.theme.breakpoints.medium?E.rootNarrow:E.rootWide,I]},T&&"slide"===s?n:c.default.createElement(d.default,{animateMount:"up"!==w,duration:a,onAnimateComplete:e._handleAnimateComplete,show:!0,type:s},(function(e){var t=e.isAnimating;return c.default.createElement(h.default,{disableReporting:t},(function(e,t){return c.default.createElement(O.default,(0,o.default)({ref:e()},t({})),n)}))})))}))))))},t}(c.default.Component);t.default=I,(0,s.default)(I,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0})},uo3S:function(e,t,n){"use strict";n.r(t);var i=n("RIqP"),o=n.n(i),r=n("oEGd"),a=n("peh1"),s=n("Olyj"),c=n("XOJV"),d=n("kElg"),l=Object(a.createSelector)((function(e){return c.a.selectAll(e)}),(function(e,t){return t.focalTweetId}),(function(e,t){var n=t&&e[t];if(!n)return[];var i=[n.user].concat(o()(u(n)),o()(f(n))),r=n.quoted_status&&e[n.quoted_status];return r&&(i.push(r.user),i.push.apply(i,o()(u(r)))),Object(d.a)(i)})),u=function(e){var t=e.entities.user_mentions;return(void 0===t?[]:t).map((function(e){return e.id_str}))},f=function(e){return Object(s.a)(e.extended_entities&&e.extended_entities.media||[]).map((function(e){return e.user_id}))},p=Object(a.createSelector)(l,(function(e){return{participantIds:e}})),h=Object(r.b)(p),m=n("q1tI"),v=n("YryT"),_=n.n(v),y=n("Sp5u"),b=n.n(y),g=n("hqDb"),O=n("Epja"),E=n.n(O),w=_.a.c915c2d0,T=function(e){var t=e.maxCount,n=e.participantIds;return m.createElement(E.a,{accessibilityLabel:w,accessibilityRole:"complementary"},m.createElement(b.a,{text:w}),m.createElement(g.a,{userIds:n.slice(0,t),withFinalItemBorder:!1,withItemBorder:!0}))};T.defaultProps={maxCount:3};var R=T;t.default=h(R)}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.WideLayout.95d342f4.js.map